"use strict";(self.webpackChunkecomm_web=self.webpackChunkecomm_web||[]).push([[1913],{63749:(e,l,n)=>{n.d(l,{A:()=>s});n(9950);var i=n(58322),o=n(9170),t=n(64432),a=n(28429),d=n(44414);const s=e=>{const l=(0,a.Zp)();(0,i.lZ)(o.qD);return(0,d.jsx)("div",{className:"header_Account_SMRM",children:(0,d.jsx)("div",{className:"container_movh",children:(0,d.jsxs)("div",{className:"w-100 p-1 d-flex align-items-center h-100 justify-content-between",style:{minHeight:"60px"},children:[(0,d.jsx)("div",{onClick:()=>l(-1),children:(0,d.jsx)(t.A,{sx:{color:"#7d7f85",paddingLeft:"5px",width:"40px"}})}),(0,d.jsx)("div",{className:"proptitle",children:null===e||void 0===e?void 0:e.title}),(0,d.jsx)("div",{children:"\xa0\xa0\xa0"})]})})})}},81913:(e,l,n)=>{n.r(l),n.d(l,{default:()=>E});var i=n(9950),o=n(78317),t=n(15769),a=n(34075),d=n(44052),s=n(1320),r=n(69780),c=n(54898),u=n(9213),v=n(7251),x=n(84910),m=n(46986),p=n(45546),h=n(10226),g=n(8145),A=n(46639),j=n(18726),f=n(16632),S=n(40428),w=n(80691),N=n(44788),y=n(50581),D=n(59051),_=n.n(D),C=n(4695),b=n.n(C),q=n(19223),$=n(81831),k=n(11728),M=n(95359),T=n(2235),B=n(5412),I=n(63749),P=n(50525),R=n(44414);const Y=(e,l,n)=>{if("Date"===n){const i=new Date(e[n]),o=new Date(l[n]);return isNaN(i.getTime())||isNaN(o.getTime())?isNaN(i.getTime())?1:-1:o<i?-1:o>i?1:0}if("SrNo"===n||"Amount"===n)return l[n]-e[n];if("SKUNo"===n)return L(e[n],l[n]);{const i="string"===typeof e[n]?e[n].toLowerCase():e[n],o="string"===typeof l[n]?l[n].toLowerCase():l[n];return o<i?-1:o>i?1:0}},L=(e,l)=>{const n=/([^\d]+)(\d+)/,[,i,o]=null===e||void 0===e?void 0:e.match(n),[,t,a]=null===l||void 0===l?void 0:l.match(n);return i!==t?null===i||void 0===i?void 0:i.localeCompare(t):parseInt(a,10)-parseInt(o,10)};function F(e){const{onSelectAllClick:l,order:n,orderBy:i,numSelected:t,rowCount:a,onRequestSort:s}=e;return(0,R.jsx)(r.A,{children:(0,R.jsx)(u.A,{children:P.pA.map((e=>{var l,t,a;return(0,R.jsx)(d.A,{align:e.align,padding:e.disablePadding?"none":"normal",sortDirection:i===e.id&&n,children:"srno"===(null===e||void 0===e||null===(l=e.id)||void 0===l?void 0:l.toLowerCase())||"print"===(null===e||void 0===e||null===(t=e.id)||void 0===t?void 0:t.toLowerCase())?`${null===e||void 0===e?void 0:e.id}`:(0,R.jsxs)(v.A,{active:i===e.id,direction:i===e.id?n:"asc",onClick:(a=e.id,e=>{s(e,a)}),children:[e.label,i===e.id?(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(o.A,{component:"span",sx:w.A,children:"desc"===n?"sorted descending":"sorted ascending"})}):null]})},e.id)}))})})}const E=()=>{const[e,l]=i.useState("asc"),[n,r]=i.useState("calories"),[v,w]=i.useState([]),[D,C]=i.useState(0),[P,L]=i.useState(!1),[E,W]=i.useState(10),[Q,U]=(0,i.useState)(""),[O,K]=(0,i.useState)(null),[V,X]=(0,i.useState)(null),[J,z]=(0,i.useState)([]),[H,Z]=(0,i.useState)([]),[G,ee]=(0,i.useState)(!1),le=((0,N.e)(new Date,1),(0,y.d)(new Date,1),(0,i.useRef)(null)),ne=(0,i.useRef)(null),ie=D>0?Math.max(0,(1+D)*E-H.length):0,oe=i.useMemo((()=>function(e,l){const n=null===e||void 0===e?void 0:e.map(((e,l)=>[e,l]));return n.sort(((e,n)=>{const i=l(e[0],n[0]);return 0!==i?i:e[1]-n[1]})),n.map((e=>e[0]))}(H,((e,l)=>"desc"===e?(e,n)=>Y(e,n,l):(e,n)=>-Y(e,n,l))(e,n)).slice(D*E,D*E+E)),[e,n,D,E,H]),te=()=>{U(""),K(null),X(null),Z(J),C(0),W(10)},ae=()=>{U(""),K(null),X(null),C(0)},de=(e,l,n,i)=>{C(0);let o=`${null===n||void 0===n?void 0:n.$y}-${(0,S.Ds)(null===n||void 0===n?void 0:n.$M)}-${null===n||void 0===n?void 0:n.$D}`,t=`${null===i||void 0===i?void 0:i.$y}-${(0,S.Ds)(null===i||void 0===i?void 0:i.$M)}-${null===i||void 0===i?void 0:i.$D}`,a=[],d=0;null===J||void 0===J||J.forEach(((e,n)=>{var i;let s="";s=null===e||void 0===e||null===(i=e.Date)||void 0===i?void 0:i.split("-");let r=`${s[0]}-${s[1]}-${s[2]}`;s=`${s[2]}-${s[1]}-${s[0]}`;let c={dateFrom:!1,dateTo:!1,search:!1};var u,v,x,m,p,h,g,A,j,f,S,w,N,y,D,C,q,$,k,M;""!==l?(null!==e&&void 0!==e&&null!==(u=e.SrNo)&&void 0!==u&&null!==(v=u.toString())&&void 0!==v&&null!==(x=v.toLowerCase())&&void 0!==x&&x.includes(null===l||void 0===l||null===(m=l.trim())||void 0===m?void 0:m.toLowerCase())||null!==e&&void 0!==e&&null!==(p=e.SKUNo)&&void 0!==p&&null!==(h=p.toString())&&void 0!==h&&null!==(g=h.toLowerCase())&&void 0!==g&&g.includes(null===l||void 0===l||null===(A=l.trim())||void 0===A?void 0:A.toLowerCase())||null!==e&&void 0!==e&&null!==(j=e.Amount)&&void 0!==j&&null!==(f=j.toString())&&void 0!==f&&null!==(S=f.toLowerCase())&&void 0!==S&&S.includes(null===l||void 0===l||null===(w=l.trim())||void 0===w?void 0:w.toLowerCase())||null!==e&&void 0!==e&&null!==(N=e.TotalDesign)&&void 0!==N&&null!==(y=N.toString())&&void 0!==y&&null!==(D=y.toLowerCase())&&void 0!==D&&D.includes(null===l||void 0===l||null===(C=l.trim())||void 0===C?void 0:C.toLowerCase())||null!==r&&void 0!==r&&null!==(q=r.toString())&&void 0!==q&&null!==($=q.toLowerCase())&&void 0!==$&&null!==(k=$.includes)&&void 0!==k&&k.call($,null===l||void 0===l||null===(M=l.trim())||void 0===M?void 0:M.toLowerCase()))&&(c.search=!0):c.search=!0;if(void 0!==s)if(null!==o&&void 0!==o&&o.includes(void 0)||null!==t&&void 0!==t&&t.includes(void 0))null===o||void 0===o||!o.includes(void 0)||null!==t&&void 0!==t&&t.includes(void 0)?null!==o&&void 0!==o&&o.includes(void 0)||null===t||void 0===t||!t.includes(void 0)?null!==o&&void 0!==o&&o.includes(void 0)&&null!==t&&void 0!==t&&t.includes(void 0)&&(c.dateTo=!0,c.dateFrom=!0):(d+=1,c.dateTo=!0,b().fire({title:"Error !",text:"Enter Valid Date To",icon:"error",confirmButtonText:"ok"}),ae()):(d+=1,c.dateFrom=!0,b().fire({title:"Error !",text:"Enter Valid Date From",icon:"error",confirmButtonText:"ok"}),ae());else{let e=_()(o),l=_()(t),n=_()(s);if(_()(o).isSameOrBefore(t)){(n.isBetween(e,l,null,"[]")||n.isSame(e)||n.isSame(l))&&(c.dateTo=!0,c.dateFrom=!0)}else setTimeout((()=>{ae(),Z(J)}),0)}!0===c.dateFrom&&!0===c.dateTo&&!0===c.search&&a.push(e)})),Z(0===d?a:J)};(0,i.useEffect)((()=>{var e,l;(async()=>{try{var e;ee(!0);const i=sessionStorage.getItem("loginUserDetail"),o=JSON.parse(i),t=o.id,a=JSON.parse(sessionStorage.getItem("storeInit")),{FrontEnd_RegNo:d}=a;let s=null===a||void 0===a?void 0:a.CurrencyRate;const r=await(0,B.X)(o,s,d,t);if(null!==r&&void 0!==r&&null!==(e=r.Data)&&void 0!==e&&e.rd){var l,n;let e=[];null===r||void 0===r||null===(l=r.Data)||void 0===l||null===(n=l.rd)||void 0===n||n.forEach(((l,n)=>{let i=atob(null===l||void 0===l?void 0:l.PrintUrl),o=((e,l,n,i,o,t)=>({SrNo:e,Date:l,SKUNo:n,TotalDesign:i,Amount:o,PrintUrl:t}))(n+1,null===l||void 0===l?void 0:l.Date,null===l||void 0===l?void 0:l.SKUNo,null===l||void 0===l?void 0:l.TotalDesign,null===l||void 0===l?void 0:l.Amount,i);null===e||void 0===e||e.push(o)})),z(e),Z(e)}else z([]),Z([])}catch(i){console.log("Error:",i)}finally{ee(!1)}})();let n=null===le||void 0===le||null===(e=le.current)||void 0===e?void 0:e.querySelector(".MuiInputBase-root input");n&&(n.placeholder="Date From");let i=null===ne||void 0===ne||null===(l=ne.current)||void 0===l?void 0:l.querySelector(".MuiInputBase-root input");i&&(i.placeholder="Date To")}),[]);const se=()=>{const e=document.querySelector(".quotationJobSec");e&&(e.scrollTop=0)};return(0,R.jsxs)("div",{className:"quotationQuote_Account_SMRM",children:[(0,R.jsx)("div",{className:"sticky-header",children:(0,R.jsx)(I.A,{title:"Quotation"})}),(0,R.jsxs)(o.A,{className:"smilingSavedAddressMain salesApiSectionQMA headSetQMAMain",sx:{padding:"20px"},children:[(0,R.jsxs)(x.A,{sx:{marginBottom:"20px"},children:[(0,R.jsx)(m.A,{expandIcon:(0,R.jsx)(j.A,{}),children:"More Filters"}),(0,R.jsx)(p.A,{children:(0,R.jsxs)(o.A,{className:"d_flex_quote",sx:{display:"flex",flexWrap:"wrap"},children:[(0,R.jsx)(o.A,{sx:{paddingRight:"15px"},className:"AllQuoteBtn QuotePadSec",children:(0,R.jsx)(h.A,{variant:"contained",className:"muiSmilingRocksBtn",sx:{background:"#7d7f85",display:"flex",alignItems:"center",marginBottom:0,padding:"6px 0"},onClick:e=>te(),children:"All"})}),(0,R.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",position:"relative",padding:"0 15px 35px 0",maxWidth:"max-content"},className:"searchbox QuotePadSec w_q d_none_q",children:[(0,R.jsx)(g.A,{id:"standard-basic",label:"Search",variant:"outlined",className:"w_q",value:Q,onChange:e=>{var l,n;U(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value),de(0,null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value,O,V)}}),(0,R.jsx)(h.A,{sx:{padding:0,maxWidth:"max-content",minWidth:"max-content",position:"absolute",right:"8px",color:"#757575"},onClick:e=>de(0,Q,O,V),children:(0,R.jsx)(q.A,{})})]}),(0,R.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap"},className:"d_flex_quote w_q",children:[(0,R.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",paddingRight:"15px",paddingBottom:"35px"},className:"QuotePadSec w_q",children:[(0,R.jsx)("p",{className:"fs-6 w_20_q mb-0",style:{paddingRight:"8px"},children:"Date: "}),(0,R.jsx)(o.A,{className:"w_80_q",children:(0,R.jsx)($.$,{dateAdapter:M.R,children:(0,R.jsx)(k.l,{label:"Date From",value:O,format:"DD MM YYYY",placeholder:"DD MM YYYY",onChange:e=>{null===e?K(null):e.$y<=2099&&e.$y>=1900||e.$y<1e3||isNaN(e.$y)?K(e):(b().fire({title:"Error !",text:"Enter Valid Date From",icon:"error",confirmButtonText:"ok"}),te())},className:"quotationFilterDates w_q",ref:le})})})]}),(0,R.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",paddingBottom:"35px",paddingRight:"15px"},className:"QuotePadSec w_q",children:[(0,R.jsx)("p",{className:"fs-6 w_20_q mb-0",style:{paddingRight:"8px"},children:"To: "}),(0,R.jsx)(o.A,{className:"w_80_q",children:(0,R.jsx)($.$,{dateAdapter:M.R,children:(0,R.jsx)(k.l,{label:"Date To",value:V,format:"DD MM YYYY",placeholder:"DD MM YYYY",className:"quotationFilterDates w_q",ref:ne,inputProps:{readOnly:!0},onChange:e=>{null===e?X(null):e.$y<=2099&&e.$y>=1900||e.$y<1e3||isNaN(e.$y)?X(e):(b().fire({title:"Error !",text:"Enter Valid Date To",icon:"error",confirmButtonText:"ok"}),te())}})})})]})]}),(0,R.jsxs)(o.A,{sx:{padding:"0 15px 35px 0",display:"flex",alignItems:"center"},className:"QuotePadSec pad_left_q d_none_q_2",children:[(0,R.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",position:"relative",padding:"0 15px 35px 0",maxWidth:"80%"},className:"searchbox QuotePadSec w_q d_none_q_2",children:[(0,R.jsx)(g.A,{id:"standard-basic",label:"Search",variant:"outlined",className:"w_q",value:Q,onChange:e=>{var l,n;U(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value),de(0,null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value,O,V)}}),(0,R.jsx)(h.A,{sx:{padding:0,maxWidth:"max-content",minWidth:"max-content",position:"absolute",right:"8px",color:"#757575"},onClick:e=>de(0,Q,O,V),children:(0,R.jsx)(q.A,{className:"searchIconPos"})})]}),(0,R.jsx)(o.A,{sx:{display:"flex",alignItems:"center",position:"relative",padding:"0 15px 22px 0",maxWidth:"max-content"},children:(0,R.jsx)(h.A,{variant:"contained",className:"muiSmilingRocksBtn",sx:{padding:"7px 10px",minWidth:"max-content",background:"#7d7f85"},onClick:e=>de(0,Q,O,V),children:(0,R.jsx)(q.A,{sx:{color:"#fff !important"}})})})]}),(0,R.jsx)(o.A,{className:"d_none_q",sx:{display:"flex",alignItems:"center",position:"relative",padding:"0 15px 35px 0",maxWidth:"max-content"},children:(0,R.jsx)(h.A,{variant:"contained",className:"muiSmilingRocksBtn",sx:{padding:"7px 10px",minWidth:"max-content",background:"#7d7f85"},onClick:e=>de(0,Q,O,V),children:(0,R.jsx)(q.A,{sx:{color:"#fff !important"}})})})]})})]}),G?(0,R.jsx)(o.A,{sx:{display:"flex",justifyContent:"center",paddingTop:"10px"},children:(0,R.jsx)(A.A,{className:"loadingBarManage"})}):(0,R.jsxs)(T.A,{sx:{width:"100%",marginBottom:"10%"},className:"salesApiTableQMA",children:[(0,R.jsx)(s.A,{style:{maxHeight:580,overflowX:"auto",overflowY:"auto"},children:(0,R.jsxs)(t.A,{sx:{minWidth:750,border:"1px solid rgba(224, 224, 224, 1)",overflowX:"auto",overflowX:"auto"},"aria-labelledby":"tableTitle",size:P?"small":"medium",children:[(0,R.jsx)(F,{numSelected:v.length,order:e,orderBy:n,onRequestSort:(i,o)=>{console.log("property--",o);l(n===o&&"asc"===e?"desc":"asc"),r(o)},rowCount:H.length}),(0,R.jsxs)(a.A,{children:[oe.map(((e,l)=>{const n=`enhanced-table-checkbox-${l}`;return(0,R.jsxs)(u.A,{hover:!0,onClick:e=>((e,l)=>{const n=v.indexOf(l);let i=[];-1===n?i=i.concat(v,l):0===n?i=i.concat(v.slice(1)):n===v.length-1?i=i.concat(v.slice(0,-1)):n>0&&(i=i.concat(v.slice(0,n),v.slice(n+1))),w(i)})(0,l),tabIndex:-1,sx:{cursor:"pointer"},children:[(0,R.jsx)(d.A,{component:"td",id:n,scope:"row",padding:"none",align:"center",children:D*E+l+1}),(0,R.jsx)(d.A,{align:"center",children:e.Date}),(0,R.jsx)(d.A,{align:"center",children:e.SKUNo}),(0,R.jsx)(d.A,{align:"center",children:e.TotalDesign}),(0,R.jsx)(d.A,{align:"right",children:(0,S.ej)(e.Amount)}),(0,R.jsx)(d.A,{align:"center",children:(0,R.jsx)("div",{onClick:()=>{return l=null===e||void 0===e?void 0:e.PrintUrl,void window.open(l);var l},children:(0,R.jsx)(f.A,{})})})]},l)})),ie>0&&(0,R.jsx)(u.A,{style:{height:(P?33:53)*ie},children:(0,R.jsx)(d.A,{colSpan:6})})]})]})}),(0,R.jsx)(c.A,{rowsPerPageOptions:[10,25,100],component:"div",count:H.length,rowsPerPage:E,page:D,onPageChange:(e,l)=>{C(l),se()},onRowsPerPageChange:e=>{W(parseInt(e.target.value,10)),C(0),se()}})]})]})]})}},64432:(e,l,n)=>{var i=n(24994);l.A=void 0;var o=i(n(79526)),t=n(44414);l.A=(0,o.default)((0,t.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos")}}]);