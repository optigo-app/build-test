"use strict";(self.webpackChunkecomm_web=self.webpackChunkecomm_web||[]).push([[1186],{81186:(e,s,i)=>{i.r(s),i.d(s,{default:()=>m});var l=i(9950),n=(i(22399),i(74847),i(81131)),o=i(28429),t=i(92723),r=i(38737),a=i(53289),d=i(49211),c=i(9170),v=i(58322),u=i(73491),g=i(44414);const m=()=>{const e=(0,l.useRef)(null),[s,i]=(0,l.useState)(),[m,h]=(0,l.useState)(""),[S,p]=(0,l.useState)({}),[I,N]=(0,l.useState)([]),x=(0,o.Zp)(),k=JSON.parse(sessionStorage.getItem("loginUserDetail")),j=(0,v.vc)(c.qD),C=JSON.parse(sessionStorage.getItem("loginUserDetail")),b=(0,v.lZ)(c.l2);(0,l.useEffect)((()=>{b(!0);const s=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(f(),s.unobserve(e.target))}))}),{root:null,threshold:.5});return e.current&&s.observe(e.current),()=>{e.current&&s.unobserve(e.current)}}),[]);const f=()=>{const e=JSON.parse(sessionStorage.getItem("loginUserDetail")),s=JSON.parse(sessionStorage.getItem("storeInit")),{IsB2BWebsite:l}=s,n=d.A.get("visiterId");let o;o=0==l&&!1===j?n:(null===e||void 0===e?void 0:e.id)||"0";let t=JSON.parse(sessionStorage.getItem("storeInit"));p(t);let a=JSON.parse(sessionStorage.getItem("storeInit"));i(null===a||void 0===a?void 0:a.CDNDesignImageFol),(0,r.K)("GETBestSeller",o).then((e=>{var s,i;(b(!1),null!==e&&void 0!==e&&null!==(s=e.Data)&&void 0!==s&&s.rd)&&h(null===e||void 0===e||null===(i=e.Data)||void 0===i?void 0:i.rd)})).catch((e=>e))},L=(e,s,i)=>{let l=JSON.parse(sessionStorage.getItem("storeInit")),n={a:s,b:e,m:null===k||void 0===k?void 0:k.MetalId,d:null===k||void 0===k?void 0:k.cmboDiaQCid,c:null===k||void 0===k?void 0:k.cmboCSQCid,f:{}},o=(e=>{try{const s=(new TextEncoder).encode(e),i=t.Ay.deflate(s,{to:"string"});return btoa(String.fromCharCode.apply(null,i))}catch(s){return null}})(JSON.stringify(n));const r=`/d/${i.replace(/\s+/g,"_")}${(null===i||void 0===i?void 0:i.length)>0?"_":""}${e}?p=${o}`;1==(null===l||void 0===l?void 0:l.IsB2BWebsite)?j?x(r):(localStorage.setItem("redirectLookBook",r),x("/signin")):x(`/d/${i.replace(/\s+/g,"_")}${(null===i||void 0===i?void 0:i.length)>0?"_":""}${e}?p=${o}`)},[B,D]=(0,l.useState)([]),w=async()=>{if(null===m||void 0===m||!m.length)return;const e=await Promise.all(m.map((async e=>{const i=`${s}${null===e||void 0===e?void 0:e.designno}~1.${null===e||void 0===e?void 0:e.ImageExtension}`,l=await(n=i,new Promise((e=>{const s=new Image;s.onload=()=>e(n),s.onerror=()=>e(u),s.src=n})));var n;return{...e,validatedImageURL:l}})));D(e)};(0,l.useEffect)((()=>{w()}),[m]);return(0,g.jsx)("div",{className:"smrMA_bestSallerMain",ref:e,children:0!=(null===m||void 0===m?void 0:m.length)&&(0,g.jsxs)("div",{className:"linkingLoveMain",children:[(0,g.jsxs)("div",{className:"linkingLove",children:[(0,g.jsx)("p",{className:"linkingTitle",children:"Best Seller"}),(0,g.jsx)("p",{className:"lsmr_BestSallerViewAll",onClick:()=>{let e=JSON.parse(sessionStorage.getItem("storeInit"));const s=`/p/BestSeller/?B=${btoa("BestSeller")}`;1==(null===e||void 0===e?void 0:e.IsB2BWebsite)?j?x(s):(localStorage.setItem("redirectLookBook",s),x("/signin")):x(s)},children:"SHOP COLLECTION"}),(0,g.jsx)(n.A,{dots:!0,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1,children:(()=>{if(null===B||void 0===B||!B.length)return null;const e=[];for(let c=0;c<Math.min(B.length,5);c+=2){var s,i,l,n,o,t,r,d;e.push((0,g.jsxs)("div",{className:"linkRingLove",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"linkLoveRing1",onClick:()=>{var e,s,i;return L(null===(e=B[c])||void 0===e?void 0:e.designno,null===(s=B[c])||void 0===s?void 0:s.autocode,null===(i=B[c])||void 0===i?void 0:i.TitleLine)},children:(0,g.jsx)("img",{src:null===(s=B[c])||void 0===s?void 0:s.validatedImageURL,className:"likingLoveImages",alt:"Bestselling Items"})}),(0,g.jsxs)("div",{className:"linkLoveRing1Desc",children:[(0,g.jsx)("p",{className:"ring1Desc",children:null===(i=B[c])||void 0===i?void 0:i.designno}),(0,g.jsxs)("p",{className:"smr_bestSellerPrice",children:[(0,g.jsx)("span",{className:"smr_currencyFont",children:null!==(l=null===C||void 0===C?void 0:C.CurrencyCode)&&void 0!==l?l:null===S||void 0===S?void 0:S.CurrencyCode}),"\xa0",(0,a.X9)(null===(n=B[c])||void 0===n?void 0:n.UnitCostWithMarkUp)]})]})]}),B[c+1]&&(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"linkLoveRing2",onClick:()=>{var e,s,i;return L(null===(e=B[c+1])||void 0===e?void 0:e.designno,null===(s=B[c+1])||void 0===s?void 0:s.autocode,null===(i=B[c+1])||void 0===i?void 0:i.TitleLine)},children:(0,g.jsx)("img",{src:null===(o=B[c+1])||void 0===o?void 0:o.validatedImageURL,className:"likingLoveImages",alt:"Bestselling Items"})}),(0,g.jsxs)("div",{className:"linkLoveRing1Desc",children:[(0,g.jsx)("p",{className:"ring1Desc",children:null===(t=B[c+1])||void 0===t?void 0:t.designno}),(0,g.jsxs)("p",{className:"smr_bestSellerPrice",children:[(0,g.jsx)("span",{className:"smr_currencyFont",children:null!==(r=null===C||void 0===C?void 0:C.CurrencyCode)&&void 0!==r?r:null===S||void 0===S?void 0:S.CurrencyCode}),"\xa0",(0,a.X9)(null===(d=B[c+1])||void 0===d?void 0:d.UnitCostWithMarkUp)]})]})]})]},c))}return e})()})]}),(0,g.jsx)("div",{className:"linkingLoveImage",children:(0,g.jsx)("img",{src:`${(0,a.DA)()}/images/HomePage/BestSeller/promoSetMainBanner.webp`,className:"linkingLoveImageDesign"})})]})})}},73491:(e,s,i)=>{e.exports=i.p+"static/media/image-not-found.1657b4dfbd891d52aff7.jpg"}}]);