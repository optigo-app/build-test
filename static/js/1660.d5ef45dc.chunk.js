"use strict";(self.webpackChunkecomm_web=self.webpackChunkecomm_web||[]).push([[1660],{71660:(e,t,o)=>{o.r(t),o.d(t,{default:()=>x});var s=o(9950),n=o(46639),i=o(8145),r=o(10226),l=o(28429),a=o(58322),c=o(39137),d=o(6873),p=o(85923),g=o(40282),u=o(44414);function x(){const[e,t]=(0,s.useState)({}),[o,x]=(0,s.useState)(!1),h=(0,l.Zp)(),[m,f]=(0,s.useState)(""),[y,S]=(0,s.useState)(""),[j,C]=(0,s.useState)(120),b=(0,a.lZ)(c.uJ),v=(0,l.zy)(),T=null===v||void 0===v?void 0:v.search,N=T.replace("?LoginRedirect=",""),I=`${decodeURIComponent(N)}`,k=`/LoginOption/${T}`;(0,s.useEffect)((()=>{const e=sessionStorage.getItem("registerMobile");e&&f(e)}),[]),(0,s.useEffect)((()=>{if(j>0){const e=setInterval((()=>{C((t=>0===t?(clearInterval(e),0):t-1))}),1e3);return()=>clearInterval(e)}}),[j]);const w=async()=>{y.trim()?(0,g.I)("",m,y,"otp_mobile_login","").then((e=>{1===e.Data.rd[0].stat?(sessionStorage.setItem("LoginUser",!0),b(!0),sessionStorage.setItem("loginUserDetail",JSON.stringify(e.Data.rd[0])),sessionStorage.setItem("registerMobile",m),h(I||"/")):t((e=>({...e,otp:"Invalid Code"})))})).catch((e=>console.log(e))):e.otp="Code is required"};return(0,u.jsxs)("div",{className:"hoq_loginmobileCodeMain",children:[o&&(0,u.jsx)("div",{className:"loader-overlay",children:(0,u.jsx)(n.A,{className:"loadingBarManage"})}),(0,u.jsx)(p.N9,{style:{zIndex:999999}}),(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"smling-forgot-main",children:[(0,u.jsx)("p",{style:{textAlign:"center",paddingBlock:"60px",marginTop:"0px",fontSize:"40px",color:"#7d7f85"},className:"AuthScreenMainTitle",children:"Login With Code"}),(0,u.jsxs)("p",{style:{textAlign:"center",marginTop:"-80px",fontSize:"15px",color:"#7d7f85"},className:"AuthScreenSubTitle",children:["Last step! To secure your account, enter the code we just sent to ",m,"."]}),(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"20px"},children:[(0,u.jsx)(i.A,{autoFocus:!0,id:"outlined-basic",label:"Enter Code",variant:"outlined",className:"labgrowRegister",style:{margin:"15px"},onKeyDown:e=>{"Enter"===e.key&&w()},onChange:e=>((e,o,s)=>{const{value:n}=e.target;o(n),"mobileNo"===s&&(n.trim()?t((e=>({...e,otp:""}))):t((e=>({...e,otp:"Code is required"}))))})(e,S,"mobileNo"),error:!!e.otp,helperText:e.otp}),(0,u.jsx)("button",{className:"submitBtnForgot",onClick:w,children:"Login"}),(0,u.jsxs)("p",{style:{marginTop:"10px"},children:["Didn't get the code ? ",0===j?(0,u.jsx)("span",{style:{fontWeight:500,color:"blue",textDecoration:"underline",cursor:"pointer"},onClick:async()=>{C(120),x(!0),(0,d.$)(m).then((e=>{x(!1),"1"===e.Data.Table1[0].stat?p.oR.success("OTP send Sucssessfully"):alert("Error..")})).catch((e=>console.log(e)))},children:"Resend Code"}):(0,u.jsxs)("span",{children:["Resend in ",Math.floor(j/60).toString().padStart(2,"0"),":",(j%60).toString().padStart(2,"0")]})]}),(0,u.jsx)(r.A,{style:{marginTop:"10px",color:"gray"},onClick:()=>h(k),children:"CANCEL"})]})]})}),(0,u.jsx)("div",{style:{display:"flex",justifyContent:"center",paddingBlock:"30px"},children:(0,u.jsx)("p",{style:{margin:"0px",fontWeight:500,width:"100px",color:"white",cursor:"pointer"},onClick:()=>window.scrollTo(0,0),children:"BACK TO TOP"})})]})}}}]);