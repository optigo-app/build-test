"use strict";(self.webpackChunkecomm_web=self.webpackChunkecomm_web||[]).push([[6050],{63749:(e,l,o)=>{o.d(l,{A:()=>d});o(9950);var n=o(58322),i=o(9170),t=o(64432),s=o(28429),a=o(44414);const d=e=>{const l=(0,s.Zp)();(0,n.lZ)(i.qD);return(0,a.jsx)("div",{className:"header_Account_SMRM",children:(0,a.jsx)("div",{className:"container_movh",children:(0,a.jsxs)("div",{className:"w-100 p-1 d-flex align-items-center h-100 justify-content-between",style:{minHeight:"60px"},children:[(0,a.jsx)("div",{onClick:()=>l(-1),children:(0,a.jsx)(t.A,{sx:{color:"#7d7f85",paddingLeft:"5px",width:"40px"}})}),(0,a.jsx)("div",{className:"proptitle",children:null===e||void 0===e?void 0:e.title}),(0,a.jsx)("div",{children:"\xa0\xa0\xa0"})]})})})}},46050:(e,l,o)=>{o.r(l),o.d(l,{default:()=>F});var n=o(9950),i=o(78317),t=o(15769),s=o(34075),a=o(44052),d=o(1320),r=o(69780),c=o(54898),u=o(9213),v=o(7251),x=o(2235),m=o(80691),p=o(84910),g=o(46986),h=o(45546),f=o(10226),j=o(8145),A=o(46639),S=o(19223),D=o(81831),w=o(11728),b=o(95359),N=o(40428),y=o(59051),C=o.n(y),M=o(63749),$=o(4695),k=o.n($),B=o(16632),P=o(67308),T=o(18726),R=o(50525),Y=o(44414);const I=(e,l,o)=>{if("Date"===o){const n=new Date(e[o].split(" ").reverse().join(" ")),i=new Date(l[o].split(" ").reverse().join(" "));return i<n?-1:i>n?1:0}if("SrNo"===o||"Amount"===o)return l[o]-e[o];if("StockDocumentNo"===o)return L(e[o],l[o]);{const n="string"===typeof e[o]?e[o].toLowerCase():e[o],i="string"===typeof l[o]?l[o].toLowerCase():l[o];return i<n?-1:i>n?1:0}},L=(e,l)=>{const o=/([^\d]+)(\d+)/,[,n,i]=null===e||void 0===e?void 0:e.match(o),[,t,s]=null===l||void 0===l?void 0:l.match(o);return n!==t?null===n||void 0===n?void 0:n.localeCompare(t):parseInt(s,10)-parseInt(i,10)};function E(e){const{onSelectAllClick:l,order:o,orderBy:n,numSelected:t,rowCount:s,onRequestSort:d}=e;return(0,Y.jsx)(r.A,{children:(0,Y.jsx)(u.A,{children:R.Bj.map((e=>{var l,t,s;return(0,Y.jsx)(a.A,{align:e.align,padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&o,children:"srno"===(null===e||void 0===e||null===(l=e.id)||void 0===l?void 0:l.toLowerCase())||"print"===(null===e||void 0===e||null===(t=e.id)||void 0===t?void 0:t.toLowerCase())?`${null===e||void 0===e?void 0:e.label}`:(0,Y.jsxs)(v.A,{active:n===e.id,direction:n===e.id?o:"asc",onClick:(s=e.id,e=>{d(e,s)}),children:[e.label,n===e.id?(0,Y.jsx)(i.A,{component:"span",sx:m.A,children:"desc"===o?"sorted descending":"sorted ascending"}):null]})},e.id)}))})})}const F=()=>{const[e,l]=n.useState("asc"),[o,r]=n.useState("calories"),[v,m]=n.useState([]),[y,$]=n.useState(0),[R,L]=n.useState(!1),[F,_]=n.useState(10),[q,W]=(0,n.useState)(""),[O,U]=(0,n.useState)(null),[V,z]=(0,n.useState)(null),[J,H]=(0,n.useState)([]),[X,Z]=(0,n.useState)([]),[G,K]=(0,n.useState)(!1),Q=(0,n.useRef)(null),ee=(0,n.useRef)(null),le=y>0?Math.max(0,(1+y)*F-X.length):0,oe=n.useMemo((()=>function(e,l){const o=e.map(((e,l)=>[e,l]));return o.sort(((e,o)=>{const n=l(e[0],o[0]);return 0!==n?n:e[1]-o[1]})),o.map((e=>e[0]))}(X,((e,l)=>"desc"===e?(e,o)=>I(e,o,l):(e,o)=>-I(e,o,l))(e,o)).slice(y*F,y*F+F)),[e,o,y,F,X]),ne=()=>{W(""),U(null),z(null),Z(J),$(0),_(10)},ie=(e,l,o,n)=>{$(0);let i=`${null===o||void 0===o?void 0:o.$y}-${(0,N.Ds)(null===o||void 0===o?void 0:o.$M)}-${null===o||void 0===o?void 0:o.$D}`,t=`${null===n||void 0===n?void 0:n.$y}-${(0,N.Ds)(null===n||void 0===n?void 0:n.$M)}-${null===n||void 0===n?void 0:n.$D}`,s=[],a=0;null===J||void 0===J||J.forEach(((e,o)=>{var n;let d="";d=null===e||void 0===e||null===(n=e.Date)||void 0===n?void 0:n.split("-");let r=`${d[0]}-${d[1]}-${d[2]}`;d=`${d[2]}-${d[1]}-${d[0]}`;let c={dateFrom:!1,dateTo:!1,search:!1};var u,v,x,m,p,g,h,f,j,A,S,D,w,b,N,y,M,$,B,P;""!==l?(null!==e&&void 0!==e&&null!==(u=e.SrNo)&&void 0!==u&&null!==(v=u.toString())&&void 0!==v&&null!==(x=v.toLowerCase())&&void 0!==x&&x.includes(null===l||void 0===l||null===(m=l.trim())||void 0===m?void 0:m.toLowerCase())||null!==e&&void 0!==e&&null!==(p=e.StockDocumentNo)&&void 0!==p&&null!==(g=p.toString())&&void 0!==g&&null!==(h=g.toLowerCase())&&void 0!==h&&h.includes(null===l||void 0===l||null===(f=l.trim())||void 0===f?void 0:f.toLowerCase())||null!==e&&void 0!==e&&null!==(j=e.Amount)&&void 0!==j&&null!==(A=j.toString())&&void 0!==A&&null!==(S=A.toLowerCase())&&void 0!==S&&S.includes(null===l||void 0===l||null===(D=l.trim())||void 0===D?void 0:D.toLowerCase())||null!==e&&void 0!==e&&null!==(w=e.TotalDesign)&&void 0!==w&&null!==(b=w.toString())&&void 0!==b&&null!==(N=b.toLowerCase())&&void 0!==N&&N.includes(null===l||void 0===l||null===(y=l.trim())||void 0===y?void 0:y.toLowerCase())||null!==r&&void 0!==r&&null!==(M=r.toString())&&void 0!==M&&null!==($=M.toLowerCase())&&void 0!==$&&null!==(B=$.includes)&&void 0!==B&&B.call($,null===l||void 0===l||null===(P=l.trim())||void 0===P?void 0:P.toLowerCase()))&&(c.search=!0):c.search=!0;if(void 0!==d)if(null!==i&&void 0!==i&&i.includes(void 0)||null!==t&&void 0!==t&&t.includes(void 0))null===i||void 0===i||!i.includes(void 0)||null!==t&&void 0!==t&&t.includes(void 0)?null!==i&&void 0!==i&&i.includes(void 0)||null===t||void 0===t||!t.includes(void 0)?null!==i&&void 0!==i&&i.includes(void 0)&&null!==t&&void 0!==t&&t.includes(void 0)&&(c.dateTo=!0,c.dateFrom=!0):(a+=1,c.dateFrom=!0,k().fire({title:"Error !",text:"Enter Valid Date To",icon:"error",confirmButtonText:"ok"})):(a+=1,c.dateTo=!0,k().fire({title:"Error !",text:"Enter Valid Date From",icon:"error",confirmButtonText:"ok"}));else{let e=C()(i),l=C()(t),o=C()(d);if(C()(e).isSameOrBefore(l)){console.log("in if");(o.isBetween(e,l,null,"[]")||o.isSame(e)||o.isSame(l))&&(c.dateTo=!0,c.dateFrom=!0)}else setTimeout((()=>{ne()}),0)}!0===c.dateFrom&&!0===c.dateTo&&!0===c.search&&s.push(e)})),0===a?Z(s):ne()};(0,n.useEffect)((()=>{var e,l;(async()=>{try{var e;K(!0);const n=sessionStorage.getItem("loginUserDetail"),i=JSON.parse(n),t=i.id,s=JSON.parse(sessionStorage.getItem("storeInit")),{FrontEnd_RegNo:a}=s;let d=null===s||void 0===s?void 0:s.CurrencyRate;const r=await(0,P.z)(d,a,t,i);if(null!==r&&void 0!==r&&null!==(e=r.Data)&&void 0!==e&&e.rd){var l,o;let e=[];null===r||void 0===r||null===(l=r.Data)||void 0===l||null===(o=l.rd)||void 0===o||o.forEach(((l,o)=>{let n=atob(null===l||void 0===l?void 0:l.PrintUrl),i=((e,l,o,n,i,t)=>({SrNo:e,Date:l,StockDocumentNo:o,TotalDesign:n,Amount:i,PrintUrl:t}))(o+1,null===l||void 0===l?void 0:l.Date,null===l||void 0===l?void 0:l.StockDocumentNo,null===l||void 0===l?void 0:l.TotalDesign,null===l||void 0===l?void 0:l.Amount,n);null===e||void 0===e||e.push(i)})),H(e),Z(e)}else H([]),Z([])}catch(n){console.log("Error:",n)}finally{K(!1)}})();let o=null===Q||void 0===Q||null===(e=Q.current)||void 0===e?void 0:e.querySelector(".MuiInputBase-root input");o&&(o.placeholder="Date From");let n=null===ee||void 0===ee||null===(l=ee.current)||void 0===l?void 0:l.querySelector(".MuiInputBase-root input");n&&(n.placeholder="Date To")}),[]);const te=()=>{const e=document.querySelector(".quotationJobSec");e&&(e.scrollTop=0)};return(0,Y.jsxs)("div",{className:"sales_Account_SMRM",children:[(0,Y.jsx)("div",{className:"sticky-header",children:(0,Y.jsx)(M.A,{title:"Sales"})}),(0,Y.jsxs)(i.A,{className:"smilingSavedAddressMain salesApiSectionMob",sx:{padding:"20px",marginBottom:"3rem"},children:[(0,Y.jsxs)(p.A,{sx:{marginBottom:"20px"},children:[(0,Y.jsx)(g.A,{expandIcon:(0,Y.jsx)(T.A,{}),children:"More Filters"}),(0,Y.jsx)(h.A,{children:(0,Y.jsxs)(i.A,{sx:{display:"flex",flexWrap:"wrap"},children:[(0,Y.jsxs)(i.A,{sx:{paddingRight:"15px"},className:"salesPagePagBtnMob",children:[" ",(0,Y.jsx)(f.A,{variant:"contained",className:"muiSmilingRocksBtn ",sx:{background:"#7d7f85",display:"flex",alignItems:"center",marginBottom:0,padding:"6px 0"},onClick:e=>ne(),children:"All"})]}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",position:"relative",padding:"0 15px 35px 0",maxWidth:"max-content"},className:"searchbox salesPagePagBtnMob",children:[(0,Y.jsx)(j.A,{id:"standard-basic",label:"Search",variant:"outlined",value:q,onChange:e=>{var l,o;W(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value),ie(0,null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value,O,V)}}),(0,Y.jsx)(f.A,{sx:{padding:0,maxWidth:"max-content",minWidth:"max-content",position:"absolute",right:"8px",color:"#757575"},onClick:e=>ie(0,q,O,V),children:(0,Y.jsx)(S.A,{})})]}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap"},className:"sal_flexcol",children:[(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",paddingRight:"15px",paddingBottom:"35px"},className:"salesPagePagBtnMob date_from_sal",children:[(0,Y.jsx)("p",{className:"fs-6 mb-0",style:{paddingRight:"8px"},children:"Date: "}),(0,Y.jsx)(i.A,{children:(0,Y.jsx)(D.$,{dateAdapter:b.R,children:(0,Y.jsx)(w.l,{label:"Date From",value:O,ref:Q,format:"DD MM YYYY",placeholder:"DD MM YYYY",className:"quotationFilterDates",onChange:e=>{null===e?U(null):e.$y<=2099&&e.$y>=1900||e.$y<1e3||isNaN(e.$y)?U(e):(k().fire({title:"Error !",text:"Enter Valid Date From",icon:"error",confirmButtonText:"ok"}),ne())}})})})]}),(0,Y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",paddingBottom:"35px",paddingRight:"15px"},className:"salesPagePagBtnMob",children:[(0,Y.jsx)("p",{className:"fs-6 mb-0",style:{paddingRight:"8px"},children:"To: "}),(0,Y.jsx)(i.A,{children:(0,Y.jsx)(D.$,{dateAdapter:b.R,children:(0,Y.jsx)(w.l,{label:"Date To",value:V,ref:ee,format:"DD MM YYYY",placeholder:"DD MM YYYY",className:"quotationFilterDates",onChange:e=>{null===e?z(null):e.$y<=2099&&e.$y>=1900||e.$y<1e3||isNaN(e.$y)?z(e):(k().fire({title:"Error !",text:"Enter Valid Date To",icon:"error",confirmButtonText:"ok"}),ne())}})})})]})]}),(0,Y.jsx)(i.A,{sx:{padding:"0 15px 35px 0",display:"flex",alignItems:"center"},className:"salesPagePagBtnMob salePageBtnAlignMob",children:(0,Y.jsx)(f.A,{variant:"contained",className:"muiSmilingRocksBtn",sx:{padding:"7px 10px",minWidth:"max-content",background:"#7d7f85"},onClick:e=>ie(0,q,O,V),children:(0,Y.jsx)(S.A,{sx:{color:"#fff !important"}})})})]})})]}),G?(0,Y.jsx)(i.A,{sx:{display:"flex",justifyContent:"center",paddingTop:"10px"},children:(0,Y.jsx)(A.A,{className:"loadingBarManage"})}):(0,Y.jsxs)(x.A,{sx:{width:"100%",mb:2},className:"salesApiTableMob",children:[(0,Y.jsx)(d.A,{className:"salesPartTableMob",sx:{maxHeight:580,overflowX:"auto",overflowY:"auto"},children:(0,Y.jsxs)(t.A,{sx:{minWidth:750,border:"1px solid rgba(224, 224, 224, 1)",overflowX:"auto",overflowY:"auto"},"aria-labelledby":"tableTitle",size:R?"small":"medium",children:[(0,Y.jsx)(E,{numSelected:v.length,order:e,orderBy:o,onRequestSort:(n,i)=>{l(o===i&&"asc"===e?"desc":"asc"),r(i)},rowCount:X.length}),(0,Y.jsxs)(s.A,{children:[oe.map(((e,l)=>{const o=`enhanced-table-checkbox-${l}`;return(0,Y.jsxs)(u.A,{hover:!0,onClick:e=>((e,l)=>{const o=v.indexOf(l);let n=[];-1===o?n=n.concat(v,l):0===o?n=n.concat(v.slice(1)):o===v.length-1?n=n.concat(v.slice(0,-1)):o>0&&(n=n.concat(v.slice(0,o),v.slice(o+1))),m(n)})(0,l),tabIndex:-1,sx:{cursor:"pointer"},children:[(0,Y.jsx)(a.A,{component:"td",id:o,scope:"row",padding:"none",align:"center",children:y*F+l+1}),(0,Y.jsx)(a.A,{align:"center",children:e.Date}),(0,Y.jsx)(a.A,{align:"center",children:e.StockDocumentNo}),(0,Y.jsx)(a.A,{align:"right",children:e.Amount}),(0,Y.jsxs)(a.A,{align:"center",children:[" ",(0,Y.jsx)("div",{onClick:()=>{return l=null===e||void 0===e?void 0:e.PrintUrl,void window.open(l);var l},children:(0,Y.jsx)(B.A,{})})]})]},l)})),le>0&&(0,Y.jsx)(u.A,{style:{height:(R?33:53)*le},children:(0,Y.jsx)(a.A,{colSpan:6})})]})]})}),(0,Y.jsx)(c.A,{rowsPerPageOptions:[10,25,100],component:"div",count:X.length,rowsPerPage:F,page:y,onPageChange:(e,l)=>{$(l),te()},onRowsPerPageChange:e=>{_(parseInt(e.target.value,10)),$(0),te()},className:"pd_s_mapp"})]})]})]})}},64432:(e,l,o)=>{var n=o(24994);l.A=void 0;var i=n(o(79526)),t=o(44414);l.A=(0,i.default)((0,t.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos")}}]);