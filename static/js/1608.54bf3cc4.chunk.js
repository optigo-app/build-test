"use strict";(self.webpackChunkecomm_web=self.webpackChunkecomm_web||[]).push([[1608],{51608:(e,o,i)=>{i.r(o),i.d(o,{default:()=>D});var s=i(9950),n=i(46639),l=i(8145),t=i(2046),r=i(25333),a=i(10226),d=i(28429),c=i(12714),u=i(68179),v=i(9210),m=i.n(v),g=i(58322),p=i(85923),h=i(40282),x=i(39137),f=i(4405),w=i(49211),y=i(5924),S=i(1653),C=i(41476),j=i(79043),A=i(44414);function D(){const[e,o]=(0,s.useState)(""),[i,v]=(0,s.useState)(!1),[D,k]=(0,s.useState)(""),[P,b]=(0,s.useState)({}),[I,N]=(0,s.useState)(!1),L=(0,d.Zp)(),E=(0,d.zy)(),[T,O]=(0,g.L4)(x.Z0),[B,J]=(0,g.L4)(x.AU),W=null===E||void 0===E?void 0:E.search,_=W.replace("?LoginRedirect=",""),z=`${decodeURIComponent(_)}`,M=`/LoginOption/${W}`,R=(0,g.lZ)(x.uJ);(0,s.useEffect)((()=>{var e;const i=null===(e=E.state)||void 0===e?void 0:e.email;i&&o(i)}),[]);const U=async()=>{if(!D.trim())return void(P.confirmPassword="Password is required");const o=(i=D,m().SHA1(i).toString(m().enc.Hex));var i;N(!0),(0,h.I)(e,"",o,"","").then((o=>{if(N(!1),1===o.Data.rd[0].stat){var i,s,n,l,t,r,a,d,c,u;const v=w.A.get("visiterId");console.log("responseresponse",null===o||void 0===o||null===(i=o.Data)||void 0===i||null===(s=i.rd[0])||void 0===s?void 0:s.Token),w.A.set("userLoginCookie",null===o||void 0===o||null===(n=o.Data)||void 0===n||null===(l=n.rd[0])||void 0===l?void 0:l.Token),sessionStorage.setItem("registerEmail",e),R(!0),sessionStorage.setItem("LoginUser",!0),sessionStorage.setItem("loginUserDetail",JSON.stringify(o.Data.rd[0])),(0,j.y)(v).then((e=>{e&&(O(null===e||void 0===e?void 0:e.cartcount),J(null===e||void 0===e?void 0:e.wishcount))})).catch((e=>{e&&console.log("getCountApiErr",e)})),(0,y.E)(null===o||void 0===o||null===(t=o.Data)||void 0===t||null===(r=t.rd[0])||void 0===r?void 0:r.id).then((e=>{var o;if(null!==e&&void 0!==e&&null!==(o=e.Data)&&void 0!==o&&o.rd){var i;let o=JSON.stringify(null===e||void 0===e||null===(i=e.Data)||void 0===i?void 0:i.rd);sessionStorage.setItem("CurrencyCombo",o)}})).catch((e=>console.log(e))),(0,S.j)(null===o||void 0===o||null===(a=o.Data)||void 0===a||null===(d=a.rd[0])||void 0===d?void 0:d.id).then((e=>{var o;if(null!==e&&void 0!==e&&null!==(o=e.Data)&&void 0!==o&&o.rd){var i;let o=JSON.stringify(null===e||void 0===e||null===(i=e.Data)||void 0===i?void 0:i.rd);sessionStorage.setItem("MetalColorCombo",o)}})).catch((e=>console.log(e))),(0,C.W)(null===o||void 0===o||null===(c=o.Data)||void 0===c||null===(u=c.rd[0])||void 0===u?void 0:u.id).then((e=>{var o;if(null!==e&&void 0!==e&&null!==(o=e.Data)&&void 0!==o&&o.rd){var i;let o=JSON.stringify(null===e||void 0===e||null===(i=e.Data)||void 0===i?void 0:i.rd);sessionStorage.setItem("metalTypeCombo",o)}})).catch((e=>console.log(e))),L(z||"/")}else P.confirmPassword="Password is Invalid"})).catch((e=>console.log(e)))};return(0,A.jsxs)("div",{className:"Hoq_loginEmail",children:[(0,A.jsx)(p.N9,{style:{zIndex:999999}}),I&&(0,A.jsx)("div",{className:"loader-overlay",children:(0,A.jsx)(n.A,{className:"loadingBarManage"})}),(0,A.jsx)("div",{children:(0,A.jsxs)("div",{className:"smr_loginEmailD",children:[(0,A.jsx)("p",{style:{textAlign:"center",paddingBlock:"60px",marginTop:"0px",fontSize:"40px",color:"#7d7f85"},className:"AuthScreenMainTitle",children:"Login With Password"}),(0,A.jsxs)("p",{style:{textAlign:"center",marginTop:"-80px",fontSize:"15px",color:"#7d7f85"},className:"AuthScreenSubTitle",children:["using ",e]}),(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,A.jsx)(l.A,{autoFocus:!0,id:"outlined-confirm-password-input",label:"Password",type:i?"text":"password",autoComplete:"current-password",className:"smr_loginPasswordBox",style:{margin:"15px"},value:D,onChange:e=>((e,o,i)=>{const{value:s}=e.target;o(s),"confirmPassword"===i&&(s.trim()?b((e=>({...e,confirmPassword:""}))):b((e=>({...e,confirmPassword:"Password is required"}))))})(e,k,"confirmPassword"),error:!!P.confirmPassword,helperText:P.confirmPassword,onKeyDown:e=>{"Enter"===e.key&&U()},InputProps:{endAdornment:(0,A.jsx)(t.A,{position:"end",children:(0,A.jsx)(r.A,{"aria-label":"toggle password visibility",onClick:()=>{v(!i)},onMouseDown:e=>{null===e||void 0===e||e.preventDefault()},edge:"end",children:i?(0,A.jsx)(c.A,{}):(0,A.jsx)(u.A,{})})})}}),(0,A.jsx)("button",{className:"submitBtnForgot",onClick:U,children:"Login"}),(0,A.jsx)(a.A,{style:{marginTop:"10px",color:"gray"},onClick:()=>L(M),children:"CANCEL"}),(0,A.jsx)("button",{type:"submit",className:"SmilingLoginCodeBtn",onClick:()=>{var e;sessionStorage.setItem("LoginCodeEmail","true"),L("/LoginWithEmailCode",{state:{email:null===(e=E.state)||void 0===e?void 0:e.email}})},children:"Login With a Code instead on email"}),(0,A.jsx)("p",{style:{textAlign:"center"},children:"Go passwordless! we'll send you an email."}),(0,A.jsx)("p",{style:{color:"blue",cursor:"pointer"},onClick:async()=>{const o=JSON.parse(sessionStorage.getItem("storeInit"));let i=`https://${null===o||void 0===o?void 0:o.domain}`;N(!0),(0,f.$)(i,e).then((e=>{N(!1),1===e.Data.rd[0].stat?p.oR.success("Reset Link Send On Your Email"):alert("Error")})).catch((e=>console.log(e)))},children:"Forgot Password ?"})]})]})}),(0,A.jsx)("div",{style:{display:"flex",justifyContent:"center",paddingBlock:"30px"},children:(0,A.jsx)("p",{style:{margin:"0px",fontWeight:500,width:"100px",color:"white",cursor:"pointer"},onClick:()=>window.scrollTo(0,0),children:"BACK TO TOP"})})]})}}}]);