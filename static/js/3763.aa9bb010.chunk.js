"use strict";(self.webpackChunkecomm_web=self.webpackChunkecomm_web||[]).push([[3763],{13763:(e,l,n)=>{n.r(l),n.d(l,{default:()=>v});var t=n(9950),o=n(28429),i=n(38737),r=n(49211),s=n(9170),a=n(58322),u=n(73491),d=n(44414);const v=()=>{var e;const l=(0,t.useRef)(null),[n,v]=(0,t.useState)(""),[m,c]=(0,t.useState)(),g=(0,o.Zp)(),b=(0,a.vc)(s.qD),f=(0,a.lZ)(s.l2),[I,S]=(0,t.useState)({}),[N,h]=(0,t.useState)([]);(0,t.useEffect)((()=>{f(!0);let e=null===JSON||void 0===JSON?void 0:JSON.parse(sessionStorage.getItem("storeInit"));S(e),c(null===e||void 0===e?void 0:e.AlbumImageFol);const n=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(p(),n.unobserve(e.target))}))}),{root:null,threshold:.5});return l.current&&n.observe(l.current),()=>{l.current&&n.unobserve(l.current)}}),[]);const p=()=>{var e,l;const n=null===JSON||void 0===JSON?void 0:JSON.parse(null===(e=sessionStorage)||void 0===e?void 0:e.getItem("loginUserDetail")),t=null===JSON||void 0===JSON?void 0:JSON.parse(null===(l=sessionStorage)||void 0===l?void 0:l.getItem("storeInit")),o=r.A.get("visiterId");let s;s=0==(null===t||void 0===t?void 0:t.IsB2BWebsite)&&!1===b?o:(null===n||void 0===n?void 0:n.id)||"0",f(!1),(0,i.K)("GETAlbum",s).then((e=>{var l,n;null!==e&&void 0!==e&&null!==(l=e.Data)&&void 0!==l&&l.rd&&v(null===e||void 0===e||null===(n=e.Data)||void 0===n?void 0:n.rd)})).catch((e=>e))},A=e=>new Promise((l=>{const n=new Image;n.onload=()=>l(e),n.onerror=()=>l(u),n.src=e}));(0,t.useEffect)((()=>{(async()=>{if(null===n||void 0===n||!n.length)return;const e=n.map((async e=>{if(e.AlbumImageName&&e.AlbumImageFol){const l=`${null===I||void 0===I?void 0:I.AlbumImageFol}${null===e||void 0===e?void 0:e.AlbumImageFol}/${null===e||void 0===e?void 0:e.AlbumImageName}`,n=await A(l);return{...e,src:n,name:null===e||void 0===e?void 0:e.AlbumName}}return{...e,src:u,name:null===e||void 0===e?void 0:e.AlbumName}})),l=await Promise.all(e);h(l)})()}),[n,I,u]);const w=(0,t.useRef)(null),[O,E]=(0,t.useState)(!0),[J,_]=(0,t.useState)(!1),L=()=>{if(w.current){const e=w.current.scrollLeft,l=w.current.scrollWidth,n=w.current.clientWidth;E(0===e),_(e+n>=l)}};return(0,t.useEffect)((()=>{var e,l;return L(),null===(e=window)||void 0===e||e.addEventListener("resize",L),null===(l=w.current)||void 0===l||l.addEventListener("scroll",L),()=>{var e,l;null===(e=window)||void 0===e||e.removeEventListener("resize",L),null===(l=w.current)||void 0===l||l.removeEventListener("scroll",L)}}),[]),(0,d.jsx)("div",{ref:l,children:0!=(null===N||void 0===N?void 0:N.length)&&(0,d.jsxs)("div",{className:"smrMA_alubmMainDiv",children:[(0,d.jsx)("p",{className:"smr_albumTitle",children:"Album"}),(0,d.jsx)("div",{className:"smr_mapp_albumALL_div",ref:w,children:null===N||void 0===N||null===(e=N.slice(0,4))||void 0===e?void 0:e.map(((e,l)=>(0,d.jsx)("div",{className:"smr_AlbumImageMain",onClick:()=>(e=>{let l=JSON.parse(sessionStorage.getItem("storeInit"));const n=`/p/${e}/?A=${btoa(`AlbumName=${e}`)}`;1==(null===l||void 0===l?void 0:l.IsB2BWebsite)?b?g(n):(localStorage.setItem("redirectLookBook",n),g("/signin")):g(n)})(null===e||void 0===e?void 0:e.name),children:(0,d.jsx)("img",{className:"smr_AlbumImageMain_img",src:null===e||void 0===e?void 0:e.src,alt:"image",onError:e=>{e.target.src=u,e.target.alt="no-image-found"},loading:"lazy"})},l)))})]})})}},73491:(e,l,n)=>{e.exports=n.p+"static/media/image-not-found.1657b4dfbd891d52aff7.jpg"}}]);