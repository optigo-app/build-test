"use strict";(self.webpackChunkecomm_web=self.webpackChunkecomm_web||[]).push([[7357],{63749:(e,i,t)=>{t.d(i,{A:()=>d});t(9950);var s=t(58322),a=t(9170),l=t(64432),n=t(28429),o=t(44414);const d=e=>{const i=(0,n.Zp)();(0,s.lZ)(a.qD);return(0,o.jsx)("div",{className:"header_Account_SMRM",children:(0,o.jsx)("div",{className:"container_movh",children:(0,o.jsxs)("div",{className:"w-100 p-1 d-flex align-items-center h-100 justify-content-between",style:{minHeight:"60px"},children:[(0,o.jsx)("div",{onClick:()=>i(-1),children:(0,o.jsx)(l.A,{sx:{color:"#7d7f85",paddingLeft:"5px",width:"40px"}})}),(0,o.jsx)("div",{className:"proptitle",children:null===e||void 0===e?void 0:e.title}),(0,o.jsx)("div",{children:"\xa0\xa0\xa0"})]})})})}},57357:(e,i,t)=>{t.r(i),t.d(i,{default:()=>b});var s=t(9950),a=t(78317),l=t(10226),n=t(23114),o=t(46639),d=t(82053),r=t(96583),c=t(40033),p=t(8145),u=t(98785),m=t(78913),x=t(85923),g=t(42074),v=t(49049),h=t(58322),f=t(9170),y=t(63749),N=t(40428),A=t(4302),j=t(44414);const b=()=>{const[e,i]=(0,s.useState)("female"),[t,b]=(0,s.useState)(!1),[S,C]=(0,s.useState)(""),[D,w]=(0,s.useState)([]),[R,M]=(0,s.useState)({}),[k,E]=(0,s.useState)(!1),[B,z]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!0),[_,O]=(0,s.useState)(""),[J,U]=(0,s.useState)(null),[W,F]=(0,s.useState)({firstName:"",lastName:"",address:"",country:"",state:"",city:"",zipCode:"",mobileNo:""}),L=(0,h.lZ)(f.M7),[$,H]=(0,s.useState)(""),[P,Z]=(0,s.useState)(!1),q=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2?arguments[2]:void 0;if(console.log(e,i,t),E("edit"===t),null!==i&&D.length>i){O(e.id);const t=D[i];t?(F({firstName:t.shippingfirstname||"",lastName:t.shippinglastname||"",address:t.street||"",country:t.country||"",state:t.state||"",city:t.city||"",zipCode:t.zip||"",mobileNo:t.shippingmobile||""}),U(i)):console.error("Invalid address data:",t)}else F({firstName:"",lastName:"",address:"",country:"",state:"",city:"",zipCode:"",mobileNo:""}),U(null);M({}),z(!0)},G=(e,i)=>{const{value:t}=e.target;F((e=>({...e,[i]:t})));const s=(0,N.UE)(i,t);M((e=>({...e,[i]:s})))},K=()=>{F({firstName:"",lastName:"",address:"",country:"",state:"",city:"",zipCode:"",mobileNo:""}),M({}),U(null),E(!1),z(!1)},Q=async e=>{T(!0);try{var i;let t=(()=>{const e=sessionStorage.getItem("loginUserDetail"),i=JSON.parse(e);return{id:i.id,email:i.userid}})();const s=JSON.parse(sessionStorage.getItem("storeInit")),{FrontEnd_RegNo:a}=s,l=await(0,v.A6)(t,e,a);"200"===(null===l||void 0===l?void 0:l.Status)&&null!==l&&void 0!==l&&null!==(i=l.Data)&&void 0!==i&&i.rd?(T(!1),V()):(H("No Data Found"),Z(!0))}catch(t){console.error("Error:",t)}finally{T(!1)}},V=async()=>{try{var e;T(!0);const d=sessionStorage.getItem("loginUserDetail"),r=JSON.parse(d),c=r.id,p=JSON.parse(sessionStorage.getItem("storeInit")),{FrontEnd_RegNo:u}=p,m=await(0,v.Rg)(u,c,r);var i,t;if(null!==m&&void 0!==m&&null!==(e=m.Data)&&void 0!==e&&e.rd){if((null===m||void 0===m||null===(i=m.Data)||void 0===i||null===(t=i.rd)||void 0===t?void 0:t.length)>0){var s,a;let e=null===m||void 0===m||null===(s=m.Data)||void 0===s||null===(a=s.rd)||void 0===a?void 0:a.find((e=>1===(null===e||void 0===e?void 0:e.isdefault))),i=[];var l,n,o;if(void 0===e)null===m||void 0===m||null===(l=m.Data)||void 0===l||null===(n=l.rd)||void 0===n||n.forEach(((e,t)=>{let s={...e};0===t&&(s.isdefault=1),i.push(s)})),w(i),L(i[0]);else L(e),w(null===m||void 0===m||null===(o=m.Data)||void 0===o?void 0:o.rd)}}else w([])}catch(d){console.error("Error:",d)}finally{T(!1)}};(0,s.useEffect)((()=>{V()}),[]);return(0,j.jsxs)("div",{className:"address_Account_SMRM",children:[(0,j.jsx)(x.N9,{}),(0,j.jsx)("div",{className:"sticky-header",children:(0,j.jsx)(y.A,{title:"Manage Address"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)(a.A,{sx:{paddingLeft:"15px"},className:"addressBtnMapp",children:(0,j.jsx)(l.A,{className:"muiSmilingRocksBtnManage savedAddressManageBtn",variant:"contained",sx:{background:"#7d7f85",padding:"6px 15px",textAlign:"end",fontSize:"0.9rem",marginBottom:"10px",marginTop:"18px",borderRadius:"0"},onClick:()=>q("",null,"add"),children:"ADD NEW ADDRESS"})}),(0,j.jsx)(n.A,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:e,onChange:e=>{i(e.target.value)},className:"mainBox_MAMAPP",children:I?(0,j.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",paddingTop:"10px"},children:(0,j.jsx)(o.A,{className:"loadingBarManage"})}):(0,j.jsx)(a.A,{sx:{display:"flex",flexWrap:"wrap",paddingTop:"10px"},className:"addressMainSec",children:null===D||void 0===D?void 0:D.map(((e,i)=>(0,j.jsx)(a.A,{className:"AddressSec",children:(0,j.jsxs)(a.A,{className:`manageAddressBlock ${1===e.isdefault&&"manageAddressDefault"}`,children:[(0,j.jsxs)(a.A,{sx:{display:"flex",flexWrap:"wrap"},children:[(0,j.jsx)(a.A,{sx:{paddingRight:"5px",fontweight:"600",paddingBottom:"10px"},children:(0,j.jsx)("h6",{children:(null===e||void 0===e?void 0:e.shippingfirstname)&&(null===e||void 0===e?void 0:e.shippingfirstname)})}),(0,j.jsx)(a.A,{sx:{fontweight:"600"},children:(0,j.jsx)("h6",{children:void 0!==(null===e||void 0===e?void 0:e.shippinglastname)&&(null===e||void 0===e?void 0:e.shippinglastname)})})]}),(0,j.jsx)(a.A,{children:(0,j.jsxs)(d.A,{sx:{paddingBottom:"15px"},children:[void 0!==(null===e||void 0===e?void 0:e.street)&&(null===e||void 0===e?void 0:e.street),",",void 0!==(null===e||void 0===e?void 0:e.city)&&(null===e||void 0===e?void 0:e.city),"-",void 0!==(null===e||void 0===e?void 0:e.zip)&&(null===e||void 0===e?void 0:e.zip),",",void 0!==(null===e||void 0===e?void 0:e.state)&&(null===e||void 0===e?void 0:e.state),",",void 0!==(null===e||void 0===e?void 0:e.country)&&(null===e||void 0===e?void 0:e.country)]})}),(0,j.jsx)(g.k2,{to:"",style:{textDecoration:"unset"},children:(0,j.jsxs)(a.A,{sx:{display:"flex",paddingBottom:"15px",textDecoration:"unset",marginLeft:"-4px"},children:[(0,j.jsx)(m.A,{}),(0,j.jsx)("a",{className:"text-decoration-none",href:`tel: +91 ${null===e||void 0===e?void 0:e.shippingmobile}`,children:null===e||void 0===e?void 0:e.shippingmobile})]})}),(0,j.jsxs)(a.A,{sx:{display:"flex",paddingBottom:"7px",alignItems:"center"},children:[(0,j.jsx)("input",{type:"radio",checked:1===e.isdefault,onChange:()=>Q(e.id),className:"manageAddressInputRadio",id:`default-${e.id}`,name:"manageAddressInputRadio"}),(0,j.jsx)("label",{htmlFor:`default-${e.id}`,children:(0,j.jsx)(d.A,{children:"Default"})})]}),(0,j.jsxs)(a.A,{className:"addresDetailsTg addresDetailsBtn",sx:{borderTop:"1px solid rgba(0, 0, 0, 0.04) !important",display:"flex",flexWrap:"wrap",paddingTop:"20px",position:"absolute",bottom:0,left:"15px",width:"calc( 100% - 30px)"},children:[(0,j.jsx)(l.A,{className:"muiSmilingRocksBtnManageEdit",variant:"contained",sx:{background:"#7d7f85",maxHeight:"30px",minWidth:"max-content",maxWidth:"max-content",padding:"6px 10px",fontSize:"0.9rem",marginBottom:"10px",borderRadius:"0"},onClick:()=>q(e,i,"edit"),children:"Edit"}),1!==e.isdefault&&(0,j.jsx)(l.A,{className:"muiSmilingRocksBtnManageEdit",variant:"contained",sx:{background:"#7d7f85",maxHeight:"30px",minWidth:"max-content",maxWidth:"max-content",marginLeft:"15px",padding:"6px 10px",fontSize:"0.9rem",marginBottom:"10px",borderRadius:"0"},onClick:()=>(e=>{C(e),b(!0)})(e.id),children:"Delete"})]})]})},i)))})}),(0,j.jsx)(A.A,{open:t,onClose:()=>{b(!1)},onConfirm:async()=>{try{var e,i;b(!1),T(!0);const t=sessionStorage.getItem("loginUserDetail"),s=JSON.parse(t),a=null===s||void 0===s?void 0:s.id,l=JSON.parse(sessionStorage.getItem("storeInit")),{FrontEnd_RegNo:n}=l,o=await(0,v.wp)(S,s,n,a);if(1===(null===o||void 0===o||null===(e=o.Data)||void 0===e||null===(i=e.rd[0])||void 0===i?void 0:i.stat)){const e=null===D||void 0===D?void 0:D.filter((e=>(null===e||void 0===e?void 0:e.id)!==S));w(e),V(),H("Delete Success"),Z(!0)}else H("error"),Z(!0);b(!1)}catch(t){console.error("Error:",t),Z(!0),H("Unexcepted Error Occured")}finally{T(!1)}},title:"Delete Address",content:"Are you sure you want to delete address?"}),(0,j.jsx)(r.A,{open:B,onClose:K,className:"dialogBox_Mapp",children:(0,j.jsxs)("div",{className:"smilingAddressPopupMain dialogMAddress_Mapp",children:[(0,j.jsxs)(c.A,{style:{textAlign:"center",textDecoration:"underline"},children:[k?"Edit":"Add"," Shipping Info"]}),(0,j.jsxs)("form",{onSubmit:e=>(async e=>{e.preventDefault();const i=(0,N.i$)(W);if(M(i),!(Object.keys(i).length>0))try{T(!0);const e=sessionStorage.getItem("loginUserDetail"),i=JSON.parse(e),d=i.id,r=JSON.parse(sessionStorage.getItem("storeInit")),{FrontEnd_RegNo:c}=r;let p;var t,s,a,l,n,o;if(k)if(z(!1),p=await(0,v.tU)(_,W,c,d,r,i),1===(null===(t=p)||void 0===t||null===(s=t.Data)||void 0===s||null===(a=s.rd[0])||void 0===a?void 0:a.stat)){x.oR.success("Edit success");const e={...D[J],shippingfirstname:W.firstName,shippinglastname:W.lastName,street:W.address,country:W.country,state:W.state,city:W.city,zip:W.zipCode,shippingmobile:W.mobileNo},i=[...D];i[J]=e,w(i),1===(null===e||void 0===e?void 0:e.isdefault)&&L(e)}else x.oR.error("Error editing");else if(z(!1),p=await(0,v.wU)(W,c,d,r,i),1===(null===(l=p)||void 0===l||null===(n=l.Data)||void 0===n||null===(o=n.rd[0])||void 0===o?void 0:o.stat)){x.oR.success("Add success");const e={shippingfirstname:W.firstName,shippinglastname:W.lastName,street:W.address,country:W.country,state:W.state,city:W.city,zip:W.zipCode,shippingmobile:W.mobileNo},i=[...D,e];w(i),V()}else x.oR.error("Error adding")}catch(d){console.error("Error:",d),x.oR.error("An unexpected error occurred")}finally{T(!1)}})(e),style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,j.jsx)(p.A,{id:"firstName",label:"First Name",variant:"outlined",className:"labgrowRegister",style:{margin:"15px"},value:W.firstName,onChange:e=>G(e,"firstName"),error:!!R.firstName,helperText:R.firstName||""}),(0,j.jsx)(p.A,{id:"lastName",label:"Last Name",variant:"outlined",className:"labgrowRegister",style:{margin:"15px"},value:W.lastName,onChange:e=>G(e,"lastName"),error:!!R.lastName,helperText:R.lastName||""}),(0,j.jsx)(p.A,{id:"address",label:"Address",variant:"outlined",className:"labgrowRegister",style:{margin:"15px"},value:W.address,onChange:e=>G(e,"address"),error:!!R.address,helperText:R.address||""}),(0,j.jsx)(p.A,{id:"country",label:"Country",variant:"outlined",className:"labgrowRegister",style:{margin:"15px"},value:W.country,onChange:e=>G(e,"country"),error:!!R.country,helperText:R.country||""}),(0,j.jsx)(p.A,{id:"state",label:"State",variant:"outlined",className:"labgrowRegister",style:{margin:"15px"},value:W.state,onChange:e=>G(e,"state"),error:!!R.state,helperText:R.state||""}),(0,j.jsx)(p.A,{id:"city",label:"City",variant:"outlined",className:"labgrowRegister",style:{margin:"15px"},value:W.city,onChange:e=>G(e,"city"),error:!!R.city,helperText:R.city||""}),(0,j.jsx)(p.A,{id:"zipCode",label:"ZIP Code",variant:"outlined",className:"labgrowRegister",style:{margin:"15px"},value:W.zipCode,onChange:e=>G(e,"zipCode"),error:!!R.zipCode,helperText:R.zipCode||""}),(0,j.jsx)(p.A,{id:"mobileNo",label:"Mobile No.",variant:"outlined",className:"labgrowRegister",style:{margin:"15px"},value:W.mobileNo,onChange:e=>G(e,"mobileNo"),error:!!R.mobileNo,helperText:R.mobileNo||""}),(0,j.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"15px"},children:(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:"15px",marginBottom:"30px"},children:[(0,j.jsx)("button",{type:"submit",className:"smilingDeleveryformSaveBtn",children:k?"Edit":"Add"}),(0,j.jsx)("button",{onClick:K,className:"smilingDeleveryformCansleBtn_mapp",children:"Cancel"})]})})]})]})}),(0,j.jsx)(u.A,{open:P,autoHideDuration:2e3,onClose:()=>{Z(!1)},message:`${$}`,className:"smr_MoSnakbarTM"})]})]})}},64432:(e,i,t)=>{var s=t(24994);i.A=void 0;var a=s(t(79526)),l=t(44414);i.A=(0,a.default)((0,l.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos")}}]);