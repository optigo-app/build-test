"use strict";(self.webpackChunkecomm_web=self.webpackChunkecomm_web||[]).push([[308],{60308:(e,l,i)=>{i.r(l),i.d(l,{default:()=>I});var s=i(9950),a=i(9487),n=i(72930),d=i(78317),t=i(46639),o=i(48089),r=i(50704),c=i(82053),x=i(25277),v=i(84910),h=i(46986),u=i(45546),m=i(60899),p=i(1772),g=i(28429),_=i(92723),f=i(73491),j=i(94453),y=i(26191),w=i(16632),N=i(18726),S=i(95050),C=i(40428),A=i(63749),b=i(44414);const I=()=>{const[e,l]=(0,s.useState)([]),[i,I]=(0,s.useState)([]),[k,D]=(0,s.useState)(!1),[$,O]=(0,s.useState)(!1),[T,M]=(0,s.useState)(!1),[L,R]=(0,s.useState)(""),[P,W]=(0,s.useState)(""),E=(0,g.Zp)(),[F,H]=(0,s.useState)(null),[z,U]=(0,s.useState)(!1),[B,J]=(0,s.useState)(!1),[Q,Z]=(0,s.useState)(null),q=((0,n.A)("(max-width:320px),(max-width:360px),(max-width:375px),(max-width:400px),(max-width:430px)"),(0,n.A)("(max-width:320px),(max-width:360px),(max-width:375px),(max-width:400px),(max-width:430px),(max-width:480px)"),(0,n.A)("(max-width:320px),(max-width:360px),(max-width:375px),(max-width:400px),(max-width:430px),(max-width:480px),(max-width:515px)"),(0,n.A)("(max-width:320px),(max-width:360px),(max-width:375px),(max-width:400px),(max-width:430px),(max-width:480px),(max-width:515px)"),(0,n.A)("(max-width:320px),(max-width:360px),(max-width:375px),(max-width:410px)")),[G,K]=(0,s.useState)(null),[V,X]=(0,s.useState)(null),Y=e=>{switch(e){case 1:return"text_danger_oh";case 2:return"text_success_oh";default:return"text_primary_oh"}};(0,s.useEffect)((()=>{(async()=>{D(!0);let e=JSON.parse(sessionStorage.getItem("storeInit")),i=JSON.parse(sessionStorage.getItem("loginUserDetail"));const s=sessionStorage.getItem("registerEmail");R(null===e||void 0===e?void 0:e.ukey),W(null===e||void 0===e?void 0:e.CDNDesignImageFol);try{const d=await(0,p.Rj)(e,i,s);var a,n;"200"===(null===d||void 0===d?void 0:d.Status)&&(null!==d&&void 0!==d&&null!==(a=d.Data)&&void 0!==a&&a.rd?(l(null===d||void 0===d||null===(n=d.Data)||void 0===n?void 0:n.rd),D(!1)):(D(!0),l([])))}catch(d){console.log(d),D(!1),l([])}})()}),[]);const ee=e=>{if(I([]),0===(null===e||void 0===e?void 0:e.TotalQuantity))return"";M(T===(null===e||void 0===e?void 0:e.id)?null:null===e||void 0===e?void 0:e.id),le(e)},le=async e=>{O(!0),I([]);let l=JSON.parse(sessionStorage.getItem("storeInit")),i=JSON.parse(sessionStorage.getItem("loginUserDetail"));const s=sessionStorage.getItem("userEmail");try{const d=await(0,p.sn)(e,l,i,s);var a,n;if("200"===(null===d||void 0===d?void 0:d.Status))if(null!==d&&void 0!==d&&null!==(a=d.Data)&&void 0!==a&&a.rd1)I(null===d||void 0===d||null===(n=d.Data)||void 0===n?void 0:n.rd1),O(!1);else O(!0),I([]),O(!1)}catch(d){console.log(d)}},ie=e=>{try{const l=(new TextEncoder).encode(e),i=_.Ay.deflate(l,{to:"string"});return btoa(String.fromCharCode.apply(null,i))}catch(l){return console.error("Error compressing and encoding:",l),null}},se=async(i,s)=>{let a=JSON.parse(sessionStorage.getItem("storeInit")),n=JSON.parse(sessionStorage.getItem("loginUserDetail")),d="";"approve"===s?d=0:"reject"===s&&(d=2);const t={con:`{"id":"Store","mode":"SetOrderStatus","appuserid":"${sessionStorage.getItem("registerEmail")}"}`,f:"Postman",dp:`{"FrontEnd_RegNo":"${null===a||void 0===a?void 0:a.FrontEnd_RegNo}","Customerid":"${null===n||void 0===n?void 0:n.id}","orderno":"${null===i||void 0===i?void 0:i.orderno}","OrderStatusId":"${d}"}`},o=await(0,y.o)(t);let r=[];"200"===(null===o||void 0===o?void 0:o.Status)&&(H(!1),de(!1),null===e||void 0===e||e.map((e=>{var l,i;let s={...e};var a,n;(null===s||void 0===s?void 0:s.orderno)===(null===o||void 0===o||null===(l=o.Data)||void 0===l||null===(i=l.rd[0])||void 0===i?void 0:i.orderno)&&(s.OrderStatusName=null===o||void 0===o||null===(a=o.Data)||void 0===a||null===(n=a.rd[0])||void 0===n?void 0:n.OrderStatusName);r.push(s)})),l(r))},ae=e=>"approved"===(null===e||void 0===e?void 0:e.toLowerCase())?"bg-success text-white":"rejected"===(null===e||void 0===e?void 0:e.toLowerCase())?"bg-dark text-white":"_color3",[ne,de]=(0,s.useState)(!1),te=e=>{de(e),de(e!==ne&&e)},oe=e=>new Promise((l=>{const i=new Image;i.onload=()=>l(e),i.onerror=()=>l(!1),i.src=e})),[re,ce]=(0,s.useState)([]);return(0,s.useEffect)((()=>{(null===i||void 0===i?void 0:i.length)>0&&(async()=>{const e=await Promise.all(null===i||void 0===i?void 0:i.map((async e=>{let l="";const i=`${P}Design_Thumb/${null===e||void 0===e?void 0:e.designno}~1${null!==e&&void 0!==e&&e.metalcolorname?`~${e.metalcolorname}`:""}.jpg`,s=await oe(i);if(s)l=s;else{const i=`${P}Design_Thumb/${null===e||void 0===e?void 0:e.designno}~1.jpg`;l=await oe(i)||f}return{...e,finalImage:l}})));ce(e)})()}),[i]),(0,b.jsxs)("div",{className:"orderHistory_Account_SMRM",children:[(0,b.jsx)("div",{className:"sticky-header",children:(0,b.jsx)(A.A,{title:"Order History"})}),(0,b.jsx)("div",{className:"orderHistory_acc",style:{paddingBottom:"20px"},children:k?(0,b.jsx)(d.A,{sx:{display:"flex",justifyContent:"center",paddingTop:"10px"},children:(0,b.jsx)(t.A,{className:"loadingBarManage"})}):(0,b.jsx)("div",{children:(0,b.jsx)("div",{style:{width:"100%",paddingBottom:"15%"},children:(null===e||void 0===e?void 0:e.length)>0?null===e||void 0===e?void 0:e.map(((e,l)=>{var s,n;return(0,b.jsxs)(o.A,{variant:"outlined",sx:{boxShadow:"none",width:"100%",margin:"20px 0px",border:"1px solid #cacaca"},children:[(0,b.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"3px"},children:[(0,b.jsxs)("div",{style:{display:"flex"},children:[(0,b.jsx)("div",{className:"pd_s_noh_acc fs_head_acc start_noh_acc  mx_4_noh_acc",children:null===e||void 0===e?void 0:e.orderEntryDate}),(0,b.jsxs)("div",{className:"fs_head_acc start_noh_acc  mx_4_noh_acc",style:{fontWeight:"bold",color:"brown"},children:[null===e||void 0===e?void 0:e.OrderPrefix,null===e||void 0===e?void 0:e.orderno]}),(0,b.jsxs)("div",{className:"fs_head_acc start_noh_acc  mx_4_noh_acc",children:["Item : ",(0,b.jsx)("span",{style:{color:"brown",fontWeight:"bold"},children:null===e||void 0===e?void 0:e.TotalQuantity})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{className:"fs_head_acc start_noh_acc  mx_4_noh_acc",style:{color:"black"},children:[(0,b.jsx)("span",{className:"fs_head_acc ",style:{color:"black",fontWeight:"bold",paddingRight:"2px"},children:"Total Amount : "})," ",(0,b.jsx)("span",{className:"fs_head_acc ",style:{fontWeight:"bold",paddingRight:"5px"},dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.Country_CurrencyCode}})," ",(0,b.jsx)("span",{className:"fs_head_acc ",style:{fontWeight:"bold"},children:(0,C._C)(null===e||void 0===e?void 0:e.orderAmountwithvat)})]}),(0,b.jsxs)("div",{className:"fs_head_acc start_noh_acc  lh_head_acc mx_4_noh_acc",style:{color:"grey"},children:["(",(0,b.jsx)("span",{className:"fs_head_acc ",style:{color:"grey",paddingRight:"2px"},children:"+ Estimated Tax : "})," ",(0,b.jsx)("span",{className:"fs_head_acc ",style:{paddingRight:"5px"},dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.Country_CurrencyCode}})," ",(0,b.jsx)("span",{className:"fs_head_acc ",children:(0,C._C)(null===e||void 0===e?void 0:e.totaltaxAmount)}),")"]})]})]}),(0,b.jsxs)(r.A,{sx:{boxShadow:"none",paddingTop:"5px",paddingBottom:"10px",padding:"0px",padding:"0px 15px"},className:"fs_head_acc ",children:[!q&&(0,b.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"fs_head_acc minH_box_acc",children:[(0,b.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},className:"fs_head_acc w_20_noh_acc",children:(0,b.jsxs)(c.A,{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%"},className:` ${Y(null===e||void 0===e?void 0:e.b2c_MasterManagement_ProgressStatusId)} fs_head_acc start_noh_acc`,children:[(0,b.jsx)(a.A,{sx:{fontSize:"7px !important",marginRight:"5px"}}),null===e||void 0===e||null===(s=e.b2c_MasterManagement_ProgressStatusName)||void 0===s?void 0:s.toUpperCase()]})}),(0,b.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end"},className:"fs_head_acc w_80_noh_acc",children:(0,b.jsx)(b.Fragment,{children:1===(null===e||void 0===e?void 0:e.IsPLW)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"",style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("div",{className:"sidebar "+(z&&F===e.id?"open":""),style:{display:"flex",flexDirection:"column"},children:(0,b.jsxs)("div",{className:"d_flex_acc_new_oh",style:{padding:"2px"},children:[ne===(null===e||void 0===e?void 0:e.id)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.A,{size:"small",label:"Approve",color:"success",className:"fs_head_acc2",sx:{margin:"0px 5px"},onClick:()=>se(e,"approve")}),(0,b.jsx)(x.A,{size:"small",label:"Reject",sx:{backgroundColor:"black",color:"white",margin:"0px 5px","&:hover":{backgroundColor:"black",color:"white",cursor:"default"}},className:"fs_head_acc2",onClick:()=>se(e,"reject")})]}),1===(null===e||void 0===e?void 0:e.IsPLW)&&(0,b.jsx)(x.A,{size:"small",className:`${ae(null===e||void 0===e?void 0:e.OrderStatusName)} fw-normal fs_head_acc2`,label:""===(null===e||void 0===e?void 0:e.OrderStatusName)?"Retailer Approval Pending":null===e||void 0===e?void 0:e.OrderStatusName})]})}),(0,b.jsx)(j.A,{className:"_color2 p-0",onClick:()=>te(e.id)})]}),(0,b.jsxs)("div",{className:"minh_noh2",children:[1===(null===e||void 0===e?void 0:e.IsPLW)?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"center_noh",style:{padding:"0px",margin:"0px",width:"70px"},children:(0,b.jsx)(w.A,{onClick:()=>{return l=null===e||void 0===e?void 0:e.id,J(!B),void Z(l);var l}})})}):"",B?(0,b.jsx)("div",{className:"center_noh",style:{fontSize:"7px",lineHeight:"7px"},children:Q===(null===e||void 0===e?void 0:e.id)&&"Coming Soon..."}):(0,b.jsx)("div",{})]})]}):(0,b.jsx)("div",{children:"\xa0"})})})]}),q&&(0,b.jsxs)(d.A,{className:"fs_head_acc minH_box_acc",children:[(0,b.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"5px 0px"},className:"fs_head_acc w_100_noh_acc",children:(0,b.jsxs)(c.A,{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%"},className:` ${Y(null===e||void 0===e?void 0:e.b2c_MasterManagement_ProgressStatusId)} fs_head_acc start_noh_acc`,children:[(0,b.jsx)(a.A,{sx:{fontSize:"7px !important",marginRight:"5px"}}),null===e||void 0===e||null===(n=e.b2c_MasterManagement_ProgressStatusName)||void 0===n?void 0:n.toUpperCase()]})}),(0,b.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",paddingBottom:"10px"},className:"fs_head_acc w_100_noh_acc",children:(0,b.jsx)(b.Fragment,{children:1===(null===e||void 0===e?void 0:e.IsPLW)?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"w_100_noh_acc",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"row-reverse"},children:[(0,b.jsx)("div",{className:"sidebar "+(z&&F===e.id?"open":""),style:{display:"flex",flexDirection:"column"},children:(0,b.jsxs)("div",{className:"d_flex_acc_new_oh",style:{padding:"2px"},children:[ne===(null===e||void 0===e?void 0:e.id)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.A,{size:"small",label:"Approve",color:"success",className:"fs_head_acc2",sx:{margin:"0px 5px"},onClick:()=>se(e,"approve")}),(0,b.jsx)(x.A,{size:"small",label:"Reject",sx:{backgroundColor:"black",color:"white",margin:"0px 5px","&:hover":{backgroundColor:"black",color:"white",cursor:"default"}},className:"fs_head_acc2",onClick:()=>se(e,"reject")})]}),1===(null===e||void 0===e?void 0:e.IsPLW)&&(0,b.jsx)(x.A,{size:"small",className:`${ae(null===e||void 0===e?void 0:e.OrderStatusName)} fw-normal fs_head_acc2`,label:""===(null===e||void 0===e?void 0:e.OrderStatusName)?"Retailer Approval Pending":null===e||void 0===e?void 0:e.OrderStatusName})]})}),(0,b.jsx)(j.A,{className:"_color2 p-0",onClick:()=>te(e.id)})]})})}):(0,b.jsx)("div",{children:"\xa0"})})})]})]}),(0,b.jsxs)(v.A,{className:"fs_head_acc",expanded:V===(null===e||void 0===e?void 0:e.id),onChange:()=>{ee(e),X(V===(null===e||void 0===e?void 0:e.id)?null:null===e||void 0===e?void 0:e.id)},children:[(0,b.jsx)(h.A,{expandIcon:(0,b.jsx)(N.A,{}),"aria-controls":"panel1-content",id:"panel1-header",expanded:V===(null===e||void 0===e?void 0:e.id),className:"fs_head_acc"}),(0,b.jsxs)(u.A,{sx:{paddingBottom:"10px"},children:[T===(null===e||void 0===e?void 0:e.id)?(0,b.jsx)(b.Fragment,{children:$?(0,b.jsx)(d.A,{sx:{display:"flex",justifyContent:"center",paddingTop:"10px"},children:(0,b.jsx)(t.A,{className:"loadingBarManage"})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(m.Ay,{container:!0,spacing:4,children:(null===re||void 0===re?void 0:re.length)>0&&(null===re||void 0===re?void 0:re.map(((l,s)=>{var a,n,d,t,r;return(0,b.jsx)(m.Ay,{item:!0,xs:12,sm:(null===i||void 0===i||i.length,6),md:1===(null===i||void 0===i?void 0:i.length)?6:4,lg:(null===i||void 0===i||i.length,3),xl:(null===i||void 0===i||i.length,3),children:(0,b.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("img",{src:l.finalImage,onError:p.IB,alt:"designimage",style:{maxHeight:"90px",maxWidth:"90px",marginRight:"10px"},onClick:()=>(e=>{var l,i;let s=JSON.parse(sessionStorage.getItem("loginUserDetail")),a={a:null===e||void 0===e?void 0:e.autocode,b:null===e||void 0===e?void 0:e.designno,m:null===s||void 0===s?void 0:s.MetalId,d:null===s||void 0===s?void 0:s.cmboDiaQCid,c:null===s||void 0===s?void 0:s.cmboCSQCid,f:{}},n=ie(JSON.stringify(a));void 0===(null===e||void 0===e?void 0:e.TitleLine)?E(`/d/${null===e||void 0===e?void 0:e.designno}?p=${n}`):E(`/d/${(null===e||void 0===e?void 0:e.TitleLine)&&(null===e||void 0===e||null===(l=e.TitleLine)||void 0===l?void 0:l.replace(/\s+/g,"_"))}${null!==e&&void 0!==e&&e.TitleLine&&(null===e||void 0===e||null===(i=e.TitleLine)||void 0===i?void 0:i.length)>0?"_":""}${null===e||void 0===e?void 0:e.designno}?p=${n}`)})(l)}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{children:[null===l||void 0===l?void 0:l.designno," - ",`Quantity ${null===l||void 0===l?void 0:l.quantity}`]}),(0,b.jsxs)("div",{children:[null===l||void 0===l||null===(a=l.metaltypename)||void 0===a||null===(n=a.toUpperCase())||void 0===n?void 0:n.split(" ")[1]," ",null===l||void 0===l||null===(d=l.metalcolorname)||void 0===d?void 0:d.toUpperCase()," ",null===l||void 0===l||null===(t=l.metaltypename)||void 0===t||null===(r=t.toUpperCase())||void 0===r?void 0:r.split(" ")[0]]}),(0,b.jsxs)("div",{style:{fontWeight:"bold"},children:[(0,b.jsx)("span",{style:{paddingRight:"5px"},dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.Country_CurrencyCode}}),(0,C._C)(null===l||void 0===l?void 0:l.TotalUnitCostWithDiscount)]})]})]})},s)})))})})}):"",(null===i||void 0===i?void 0:i.length)>1&&(0,b.jsx)(c.A,{Typography:!0,className:"fs_head_acc",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",color:"grey"},onClick:()=>{X(!1),ee(e)},children:(0,b.jsx)(S.A,{})})]})]})]},l)})):(0,b.jsx)("div",{style:{width:"100%",textAlign:"center",fontWeight:"bold",color:"brown",height:"50vh",display:"flex",justifyContent:"center",alignItems:"center"},children:"Data Not Present"})})})})]})}},63749:(e,l,i)=>{i.d(l,{A:()=>o});i(9950);var s=i(58322),a=i(9170),n=i(64432),d=i(28429),t=i(44414);const o=e=>{const l=(0,d.Zp)();(0,s.lZ)(a.qD);return(0,t.jsx)("div",{className:"header_Account_SMRM",children:(0,t.jsx)("div",{className:"container_movh",children:(0,t.jsxs)("div",{className:"w-100 p-1 d-flex align-items-center h-100 justify-content-between",style:{minHeight:"60px"},children:[(0,t.jsx)("div",{onClick:()=>l(-1),children:(0,t.jsx)(n.A,{sx:{color:"#7d7f85",paddingLeft:"5px",width:"40px"}})}),(0,t.jsx)("div",{className:"proptitle",children:null===e||void 0===e?void 0:e.title}),(0,t.jsx)("div",{children:"\xa0\xa0\xa0"})]})})})}},64432:(e,l,i)=>{var s=i(24994);l.A=void 0;var a=s(i(79526)),n=i(44414);l.A=(0,a.default)((0,n.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos")},73491:(e,l,i)=>{e.exports=i.p+"static/media/image-not-found.1657b4dfbd891d52aff7.jpg"}}]);