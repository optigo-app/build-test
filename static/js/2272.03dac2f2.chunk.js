"use strict";(self.webpackChunkecomm_web=self.webpackChunkecomm_web||[]).push([[2272],{62272:(e,s,n)=>{n.r(s),n.d(s,{default:()=>p});var o=n(9950),r=n(92723),i=n(28429),t=n(38737),l=n(49211),a=n(58322),d=n(9170),c=(n(22399),n(74847),n(61310)),u=n(73491),g=n(60497),m=n(53289),v=n(44414);const p=()=>{const e=(0,o.useRef)(null),[s,n]=(0,o.useState)([]),[p,I]=(0,o.useState)(),h=(0,i.Zp)(),S=JSON.parse(sessionStorage.getItem("loginUserDetail")),[N,b]=(0,o.useState)({}),f=(0,a.vc)(d.qD),w=JSON.parse(sessionStorage.getItem("loginUserDetail")),x=(0,a.lZ)(d.l2),[C,D]=(0,o.useState)(!1);(0,o.useEffect)((()=>{x(!0);const s=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&!C&&(console.log("called "),D(!0),A(),s.unobserve(e.target))}))}),{root:null,threshold:.5});return e.current&&s.observe(e.current),()=>{e.current&&s.unobserve(e.current)}}),[C]);const A=()=>{const e=JSON.parse(sessionStorage.getItem("loginUserDetail")),s=JSON.parse(sessionStorage.getItem("storeInit")),{IsB2BWebsite:o}=s,r=l.A.get("visiterId");let i;i=0==o&&!1===f?r:(null===e||void 0===e?void 0:e.id)||"0";let a=JSON.parse(sessionStorage.getItem("storeInit"));b(a);let d=JSON.parse(sessionStorage.getItem("storeInit"));I(null===d||void 0===d?void 0:d.CDNDesignImageFol),x(!1),(0,t.K)("GETNewArrival",i).then((async e=>{var s;if(null!==e&&void 0!==e&&null!==(s=e.Data)&&void 0!==s&&s.rd){const s=await Promise.all(e.Data.rd.map((async e=>{const s=`${null===a||void 0===a?void 0:a.CDNDesignImageFol}${e.designno}~1.${e.ImageExtension}`,n=await(o=s,new Promise((e=>{const s=new Image;s.onload=()=>e(o),s.onerror=()=>e(u),s.src=o})));var o;return{...e,src:n}})));n(s)}})).catch((e=>console.log(e)))},y=(e,s,n)=>{let o=JSON.parse(sessionStorage.getItem("storeInit")),i={a:s,b:e,m:null===S||void 0===S?void 0:S.MetalId,d:null===S||void 0===S?void 0:S.cmboDiaQCid,c:null===S||void 0===S?void 0:S.cmboCSQCid,f:{}},t=(e=>{try{const s=(new TextEncoder).encode(e),n=r.Ay.deflate(s,{to:"string"});return btoa(String.fromCharCode.apply(null,n))}catch(s){return console.error("Error compressing and encoding:",s),null}})(JSON.stringify(i));const l=`/d/${n.replace(/\s+/g,"_")}${(null===n||void 0===n?void 0:n.length)>0?"_":""}${e}?p=${t}`;1==(null===o||void 0===o?void 0:o.IsB2BWebsite)?f?h(l):(localStorage.setItem("redirectLookBook",l),h("/signin")):h(l)},j={loop:!0,modules:[g.dK],slidesPerView:3};return(0,v.jsx)("div",{style:{marginBottom:0==(null===s||void 0===s?void 0:s.length)&&"5px"},ref:e,children:0!=(null===s||void 0===s?void 0:s.length)&&(0,v.jsx)("div",{className:"smrMA_NewArrivalMain",children:(0,v.jsx)(c.RC,{...j,className:"smaMA_newArrivalBoxcMain",children:null===s||void 0===s?void 0:s.map(((e,s)=>{var n;return(0,v.jsx)(c.qr,{style:{maxWidth:"18rem",marginInline:"auto"},className:"smaMA_newArrivalBoxcMainSub",children:(0,v.jsxs)("div",{className:"smr_newArrialDiv1",onClick:()=>y(e.designno,e.autocode,e.TitleLine),children:[(0,v.jsx)("img",{src:e.imageAvailable?`${null===e||void 0===e?void 0:e.src}`:u,className:"smilingMainImages",alt:e.TitleLine}),(0,v.jsx)("p",{className:"ring1Desc",children:e.designno}),(0,v.jsxs)("p",{className:"smr_nwArrivalTitle",children:[(0,v.jsx)("span",{className:"smr_currencyFont",children:null!==(n=null===w||void 0===w?void 0:w.CurrencyCode)&&void 0!==n?n:null===N||void 0===N?void 0:N.CurrencyCode}),"\xa0",(0,m.X9)(e.UnitCostWithMarkUp)]})]})},s)}))})})})}},73491:(e,s,n)=>{e.exports=n.p+"static/media/image-not-found.1657b4dfbd891d52aff7.jpg"}}]);